<!DOCTYPE html>
<html lang="en"　>
<head>
    <meta charset="utf-8"name="viewport" content="width=device-width, initial-scale=1"> -->
    <link href="static/assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="static/assets/global/css/components.css" rel="stylesheet" type="text/css"/>
    <link href="static/assets/admin/pages/css/login.css" rel="stylesheet" type="text/css"/>
    <script src="static/assets/global/plugins/jquery-1.11.0.min.js" type="text/javascript"></script>
    <title>获取验证码</title>
</head>
<body class="login">
<div class="content">
<h3 class="form-title">获取otp请求</h3>
<div>
<label class="control-label">用户手机号</label>
<div>
    <input class="form-control" placeholder="用户手机号" type="text" name="phonenum"　id="phonenum">
</div>
</div>
    <div class="form-actions">
        <button class="btn-blue" id="getotpnum" type="submit">
            获取otp验证信息
        </button>
    </div>
</div>
</body>

<script>
jQuery(document).ready(function () {
    $("#getotp").on("click",function () {
        $.ajax({
            type:"POST",
            contentType:"application/x-www-form-urlencoded",
            url:"http://localhost:8080/user/getotpnum",
            data:{
                "phonenum":$("#phonenum").val(),
            },
            success:function (data) {
               if(data.status == "success"){
                   alert("otp已发送！");
                   window.location.href="/home/fengyuanyuan/IdeaProjects/JavaWeb/shop/src/main/resources/static/register.html";
               } else {
                   alert("otp发送失败!原因："+data.data.errMsg);
               }
            },
            error:function (data) {
                alert("otp发送失败，原因为"+data.responseText);
            }
        });
    });
});
</script>
</html>
